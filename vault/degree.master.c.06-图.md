---
id: iz9f7qg6rjn99fvkjhxiwgv
title: 06 图
desc: ''
updated: 1665488380638
created: 1665485620254
---



# 图

> 图的难度较大，相关算法较多，通常只要求掌握其基本思想和实现步骤，具体实现不是重点。

## 图的基本概念

### 定义

> 图是一种多对多的逻辑结构，以下定义可以先过一遍，然后结合下面的例子进行理解。

图由顶点集 $V$ 和边集 $E$ 组成，记为$G=(V,E)$，其中$V(G)$表示图$G$中顶点之间的关系（边）集合。若$V=\{v_1,v_2,...,v_n\}$，则用$|V|$表示图$G$中顶点的个数，$E=\{(u,v)|u\in V,v\in V\}$，用$|E|$表示图$G$中边的条数。

> ⚡顶点是指图中的一个点，图上每个点都可以称为顶点。
>
> ❗线性表可以是空表，树可以是空树，但图不可以是空图。图的顶点集不可以为空，边集可以为空。

#### 有向图、无向图

> 根据图去了解表示方法

如图所示，有向图的边是有向的，无向图的边是无向的。

 ^85q5r5yu3in5
![image-20221011191318460](https://cdn.notcloud.net/static/md/cy948/202210111913490.png)

 ^k9scbhk8m78h

- 有向图：

若 *E* 是有向边（也称 弧）的有限集合时，则图 *G* 为有向图。 **弧**是顶点是**有序对**，记为$<v,w>$，其中 *v,w* 是顶点， *v* 称为**弧尾**， *w* 称为**弧头**，$<v,w>$ 称为从 *v* 到 *w* 的弧，也称 *v* 邻接到 *w* 。
$$
G_1=(V_1,E_1) \\
V_1=\{ 1,2,3 \} \\
E_1 = \{ <1,2>,<2,1>,<2,3>\}
$$

- 无向图：

若 *E* 是无向边（简称 边）的有限集合时，则图 *G* 为无向图。边是顶点的无序对，记为 *(v,w)* 或 *(v,w)* （因为无序，反过来记也一样）。可以说 *v* 和 *w* 互为邻接点。 边 *(v,w)* 依附于 *w* 和 *v* ，或称边 *(v,w)* 和 *v,w* 相关联。
$$
G_2=(V_2,E_2) \\
V_2=\{ 1,2,3 \} \\
E_2 = \{ (1,2),(1,3),(1,4),(2,3),(2,4),(3,4)\}
$$

#### 简单图、多重图

简单图满足：

- 不存在重复边；
- c；

> 如下图 $G_1,G_2$ 

多重图：

- 某两个顶点之间的边数大于 *1* 条；
- 又允许通过一条边与自身关联；

> 🤷‍♂️多重图和简单图是相对的，数据结构中仅讨论**简单图**



![[degree.master.c.06-图#^85q5r5yu3in5:#^k9scbhk8m78h]]

#### 完全图 （简单完全图）

> 以下的 “无向图” 均为 “简单无向图”
>
> $|E|$  代表（边取值范围）

无向图的 $|E|$ 是 $[0,n(n-1)/2]$ ，拥有最大边数量：*n(n-1)/2* 的无向图称为完全图，在完全图中任意两个顶点之间都存在 **边**。

有无向图的 $|E|$ 是 $[0,n(n-1)]$ ，拥有最大边数量：*n(n-1)* 的有向图称为有向完全图，在有向完全图中任意两个顶点之间都存在相反的 **弧**。

> 下图中 *G2* 为无向完全图， *G3* 为有向完全图

![[degree.master.c.06-图#^85q5r5yu3in5:#^k9scbhk8m78h]]

🤔最大边数量是怎么来的？

首先，图 *G* 是一个简单图，需要符合简单图的特征：

- 不存在重复边；
- 不存在顶点到自身的边；

在**无向图**中，根据每个点都与除自己之外的点进行 *关联* ，即 组合 *Combination*，即： 从 *n* 个中选取 *2* 个进行组合：
$$
C(n,2) = \frac{n!}{(n-2)!*2!} \\
= \frac{n(n-1)}{2}
$$
在 **有向图** 中，因为具有方向，所以是：从 *n* 个中选取 *2* 个进行 排列 *Permutation* ，即：从 *n* 个中按顺序选取 *2* 个进行排列：
$$
A(n,2) = \frac{n!}{(n-2)!} \\
= n(n-1)
$$


#### 子图、生成子图

设有两个图 $G=(V,E) \ G' = (V',E')$，若 $V'$是 *V*  的子集、$E'$  是 *E* 的子集，则称 $G'$ 为 *G* 的子图；

在此基础上，若满足 $V(G') = V(G)$ ，则称 $G'$ 为 *G* 的生成子图；

> ❗并非 *V* 和 *E* 的任何子集都能构成 *G* 的子图，因为这样的子集有可能不是图。*E'* 中某些边的顶点可能不在 *V'* 中。



#### 连通、连通图和连通分量 （无向图）

在 **无向图** 中，若从顶点 *v* 到顶点 *w* 有路径存在，则称 *v* 和 *w* 是连通的。 

> ❗连通可以不直接相 **关联**，能通过别的顶点到达顶点的都是连通的。

- 若图 *G* 中任意两个顶点都是连通的，则称图 *G* 为**连通图** ，否则为 **非连通图**；
- 如下图：无向图中的 *极大连通子图*[^极大子图] 称为 **连通分量**；

![image-20221011201207581](https://cdn.notcloud.net/static/md/cy948/202210112012615.png)

> 🤔 假设一个图有 *n*个顶点， 如果边数小于 *n - 1* ，那么此图一定是不连通的（*n-1* 条边意味着每个顶点之间只存在唯一路径）。那非连通图最多可以有多少条边呢？

要想达到最大边数，可以恰好令其中 *n - 1* 个点是完全图，此时再增加一条边就是连通图了。此时边的数量关系是：
$$
|E'| = \frac{(n-1)(n-2)}{2} \\
|E| = |E'| + 1
$$

[^极大子图]: 从图 6.2 中可直观地看出：极大子图就是一些相互连通的顶点能组成的边数最大的连通子图

#### 强连通图、强连通分量 （有向图）

在 **有向图** 中，若从顶点 *v* 到顶点 *w* 和 顶点 *w* 到顶点 *v* 均有路径存在，则称 *v* 和 *w* 是 **强连通** 的。

>  ❗连通可以不直接相 **邻接**，能通过别的顶点到达顶点的都是连通的。

- 若图中任意一对顶点都是 *强连通* 的，则称此图为 **强连通图**；
- 有向图中的*极大强连通子图* 称为有向图的 **强连通分量**，

![image-20221011210325551](https://cdn.notcloud.net/static/md/cy948/202210112103579.png)

🤔假设一个有向图有 *n* 个顶点，如果是强连通图，那么最少需要多少条边？

只需要 *n* 条边构成一个环路即可。

> ❗在无向图中讨论连通性，在有向图中讨论强连通性；

#### 生成树、生成森林

连通图的生成树是包含图中全部顶点的一个*极小连通子图*  [^极小子图] 。若图中定点数为 *n* ，则它的生成树含有 *n* 条边。包含图中全部顶点的 *极小连通子图*， 只有生成树满足这个 *极小* 条件，对生成树而言：

- 砍去它的一条边，则会变成*非连通图* ；
- 若加上一条边则会形成一条回路；
- 在非连通图中，*非连通分量* 的生成树构成了*非连通图* 的生成森林；

![[degree.master.c.06-图#^85q5r5yu3in5:#^k9scbhk8m78h]]

> ❗注意区分*极大连通子图* 和 *极小连通子图* 。*极大联通子图* 是 **无向图** 的连通分量，*极大* 即要求该连通子图包含其所有的边；*极小连通子图* 是既要保持图连通又要使得边数最小的子图。


[^极小子图]: 从图 6.4 中可直观地看出：极小子图就是一些相互连通的顶点能组成的边数最少的连通子图



#### 顶点的度、入度和出度

在 **无向图** 中，顶点 *v* 的度(Degree)是指依附于顶点 *v* 的边的条数，记为 *TD(v)* 。在下图(b)中，每个顶点的度均为 *3* 。对于具有 *n* 个顶点、*e* 条边的无向图：
$$
\sum_{i=1}^{n} TD(v_i)=2e
$$

> 😯 无向图的<ul>全部顶点</ul>的 *度* 的和等于 *边数* 的 *2* 倍，因为 *每条边* 和 *2* 个 *顶点* 相关联。

![[degree.master.c.06-图#^85q5r5yu3in5:#^k9scbhk8m78h]]

在 **有向图** 中，顶点 *v* 的 *度* 分为 *入度* 和 *出度* ，*入度* 是以顶点 *v* 为 **终点** 的有向边的数目，记为 *ID(v)* ；而出度是以顶点 *v* 为 **起点** 的有向边的数目，记为 *OD(v)* 。在上图(a)中，顶点 *2* 的出度为 *2* 、入度为 *1* 。顶点 *v* 的度等于其 *出度* 和 *入度* 的和，即 *TD(v) = ID(v) + OD(v)* 。对于具有 *n* 个顶点、*e* 条边的有向图：
$$
\sum_{i=1}^{n}ID(v_i)=\sum_{i=1}^{n}OD(v_i)=e
$$

> 😯 有向图的<ul>全部顶点</ul>的 *入度* 之和等于*出度* 之和，等于 *边数* ，这是因为每条有向边都有一个起点和终点。

#### 边的权和网

在一个图中，每一条边都可以标上具有某种含义的数值，该数值称为该边的 *权值* 。这种边上带 *权值* 的图称为 *带权图*，也称网。 



#### 稠密图、稀疏图

边数很少的图称为稀疏图，反之称为稠密图。稀疏和稠密本身就是模糊的概念，是相对而言的。

> 一般当图满足 $|E|<|V| \ \log|V|$ 时可视为稠密图



#### 路径、路径长度

顶点 $V_p$ 到顶点 $V_q$ 之间的一条 *路径* 是指 **顶点序列**  $v_p,v_1,v_2,...,v_{i_{m}},v_q$ ，当然关联的边也可以理解为路径的构成要素。路径上边的数目称为 *路径长度* 。

- 第一个顶点和最后一个顶点相同的路径称为 *回路* 或 *环* 。
- 若一个图有 *n* 个顶点，并且有 *n-1* 条边，则此图一定有 *环* ；

> *n - 1* 条边意味着每个顶点可以分到不少于 *1* 条边，因此当边 $|V|> n-1$ 条边的时，至少有一个顶点分到 $\ge 2$ 条边，因为是简单图，不能联接自己， 就形成了环。



#### 简单路径、简单回路

在路径序列中，顶点 **不重复** 出现的路径称为 *简单路径* 。除第一个顶点和最后一个顶点外，其余顶点 **不重复** 出现的回路称为 *简单回路* 。



#### 距离

从顶点 *u* 出发到顶点 *v* 的最短路径存在，则此路径的长度称为从 *u* 到 *v* 的 *距离* 。

若从顶点 *u* 出发到顶点 *v* 不存在路径 ，则标记该路径长度为无穷 $\infty$ ；



#### 有向树

一个顶点的入度为 *0* 、其余顶点的入度均为 *1* 的有向图称为 *有向树*。

> 🤔 入度均为 *1* ，每个 *顶点* 只有一个前继，这不就是树吗？



### 试一试



## 图的存储及基本操作

> 图的存储必须要完整、准确地反映顶点集和边集的信息。 根据不同的结构和算法，采用不同的存储方式对程序的效率产生相当大的影响，因此 **所选的存储结构应该适合求解问题**。

### 邻接矩阵法

用一个一维数组存储 *顶点* 信息，二维数组存储 *边* 的信息（各点之间的邻接关系），存储顶点之间 *邻接关系* 的**二维数组**叫做 *邻接矩阵* 。